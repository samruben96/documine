  # Sprint Status - docuMINE
# ========================
# Generated: 2025-11-28
# Last Updated: 2025-12-14 (Q8 Stagehand POC epic created, Q7 retro strategic pivot)
# Project: docuMINE
# Tracking: file-system
# Story Location: {project-root}/docs/sprint-artifacts

# ARCHIVED EPICS (1-23 + Design-Refresh): See sprint-status-archive.yaml
# FUTURE EPICS (F3-F8): See sprint-status-future.yaml
# This file contains only active development

# STATUS DEFINITIONS:
# Epic: backlog | contexted | done | abandoned | future | obsolete
# Story: backlog | drafted | ready-for-dev | in-progress | review | done
# Retrospective: optional | completed

development_status:
  # =====================================================
  # ARCHIVED EPICS: See sprint-status-archive.yaml
  # =====================================================
  # Epics 1-13: MVP delivered 2025-12-07
  # Epics 14-21: AI Buddy Feature - DONE 2025-12-09
  # Epic 22: UI Polish Sprint - DONE 2025-12-09
  # Epic 23: Flexible AI Reports - DONE 2025-12-10
  # Epic Design-Refresh: DONE 2025-12-11

  # =====================================================
  # QUOTING HELPER (PHASE 3) - EPICS Q1-Q5
  # =====================================================
  # "Enter once, use everywhere" clipboard-based quoting
  # Planning: docs/features/quoting/
  # Implementation Readiness: PASSED 2025-12-11
  # Total: 5 Epics, 23 Stories, 42 FRs
  # MVP Carriers: Progressive, Travelers
  # MVP Lines: Personal (Home + Auto bundled)

  # Epic Q1: Foundation & Navigation
  # Database schema, sidebar nav, dashboard card
  # Stories: 3 | FRs: FR39-42
  # COMPLETED: 2025-12-11 - All 3 stories done, 21 ACs verified
  epic-Q1-foundation-navigation: done
  Q1-1-database-schema-rls: done
  Q1-2-sidebar-navigation: done  # Satisfied by DR.2, nav exists
  Q1-3-dashboard-quick-access: done  # Reviewed 2025-12-11
  epic-Q1-retrospective: done  # Completed 2025-12-11

  # Epic Q2: Quote Session Management
  # Create, view, manage quote sessions
  # Stories: 5 | FRs: FR1-6, FR15
  # Location: docs/sprint-artifacts/epics/epic-Q2/
  # COMPLETED: 2025-12-11 - All 5 stories done
  epic-Q2-quote-session-management: done
  Q2-1-quote-sessions-list-page: done
  Q2-2-create-new-quote-session: done
  Q2-3-quote-session-detail-page: done
  Q2-4-quote-session-status: done
  Q2-5-delete-duplicate-sessions: done
  epic-Q2-retrospective: done  # Completed 2025-12-11

  # Epic Q3: Client Data Capture
  # Enter client info with smart forms + address autocomplete + VIN decode
  # Stories: 3 (consolidated) | FRs: FR6-14, FR16-18
  # Location: docs/sprint-artifacts/epics/epic-Q3/
  # COMPLETED: 2025-12-11 - All 3 stories done
  epic-Q3-client-data-capture: done
  Q3-1-data-capture-forms: done    # Consolidated: Client Info, Property, Auto, Drivers tabs
  Q3-2-auto-save-implementation: done  # Completed 2025-12-11, code review passed, all fixes applied
  Q3-3-field-validation-formatting: done  # Completed 2025-12-11, all 11 tasks done
  epic-Q3-retrospective: done  # Completed 2025-12-11
  
  # Epic Q4: Carrier Copy System
  # Copy formatted data for carriers
  # Stories: 3 (consolidated) | FRs: FR19-24, FR35-36
  # Location: docs/sprint-artifacts/epics/epic-Q4/
  epic-Q4-carrier-copy-system: contexted
  Q4-1-copy-button-carrier-formatters: done  # Combined: copy button + Progressive/Travelers formatters - Code review APPROVED 2025-12-12
  Q4-2-carriers-tab-ui-actions: done            # Carriers tab full implementation - Code review APPROVED 2025-12-12
  Q4-3-data-preview-before-copy: review  # Preview modal before copy - Implementation complete 2025-12-12

  # Epic Q5: Quote Results & Comparison
  # Enter results, generate comparison
  # Stories: 5 | FRs: FR25-34, FR37-38
  #note from sam, we already have a quote comparison, so lets just use that?
  #DEFFERED TO FUTURE SPRINT 2025-12-12
  epic-Q5-quote-results-comparison: deferred
  Q5-1-quote-result-entry-form: backlog
  Q5-2-results-tab-summary: backlog
  Q5-3-generate-comparison-document: backlog
  Q5-4-comparison-export-sharing: backlog
  Q5-5-user-carrier-preferences: backlog

  # =====================================================
  # AI-POWERED QUOTING (PHASE 4) - EPICS Q6-Q15
  # =====================================================
  # "Click Get Quotes, AI fills carrier forms automatically"
  # Planning: docs/features/quoting/phase-4-*.md
  # Epics: docs/sprint-artifacts/epics/epic-Q{6-15}/
  # Total: 10 Epics, 54 Stories, 46 FRs
  # MVP Carriers: RAM Mutual (POC), Progressive, Travelers
  # Key Tech: Stagehand (recipe-based), pgmq, Supabase Vault
  #
  # STRATEGIC PIVOT (Q7 Retro 2025-12-14):
  # - Pure AI automation too slow (20-30s per action)
  # - New approach: Recipe-based (AI discovers once, Playwright replays fast)
  # - Tool: Stagehand (native caching) replaces Browser Use
  # - Credential Management deferred to Q15

  # Epic Q6: AI Infrastructure Foundation
  # Database schema, Skyvern integration, job queue
  # Stories: 4 | FRs: FR3, FR6 (partial)
  # Location: docs/sprint-artifacts/epics/epic-Q6/
  # Tech Spec: docs/sprint-artifacts/epics/epic-Q6/tech-spec.md
  # Contexted: 2025-12-12
  # Note: Browserbase skipped - self-hosted Skyvern includes browsers
  epic-Q6-ai-infrastructure-foundation: done  # Completed 2025-12-12 - All 4 stories done
  Q6-1-database-schema-ai-quoting: done  # Code review APPROVED 2025-12-12
  Q6-2-skyvern-agent-integration: done  # Code review APPROVED 2025-12-12
  Q6-3-self-hosted-skyvern-setup: done  # Completed 2025-12-12 - pip install method for local dev, prod options documented
  Q6-4-job-queue-pgmq: done  # Completed 2025-12-12 - All 7 ACs verified, 33 unit tests passing
  epic-Q6-retrospective: done  # Completed 2025-12-12

  # Epic Q7: Browser Use Agent Integration (NEW 2025-12-12)
  # Alternative AI agent + RAM Mutual testing
  # Stories: 5 | Research: docs/features/research/ai-browser-automation-tools-2025.md
  # Location: docs/sprint-artifacts/epics/epic-Q7/
  # Tech Spec: docs/sprint-artifacts/epics/epic-Q7/tech-spec.md
  # Created: 2025-12-12 - Dual-agent architecture for better reliability
  # Contexted: 2025-12-12
  epic-Q7-browser-use-agent-integration: done
  Q7-1-browser-use-setup-poc: done
  Q7-2-browser-use-adapter: done  # Code review APPROVED 2025-12-12
  Q7-3-ram-mutual-carrier: done  # Implemented 2025-12-14 with CapSolver CAPTCHA solving, hardcoded Playwright login
  Q7-4-agent-factory-routing: deferred  # 2025-12-14: Deferred - need to solidify core quoting flow first
  Q7-5-ab-testing-comparison: deferred  # 2025-12-14: Deferred - need to solidify core quoting flow first
  epic-Q7-retrospective: done  # 2025-12-14: Key insight - recipe-based automation (AI discovers, Playwright replays)
  # Q7 RETRO ACTION ITEMS COMPLETED 2025-12-14:
  # - Action #1: Research AI automation alternatives - DONE (Stagehand recommended)
  #   → Updated: docs/features/research/ai-browser-automation-tools-2025.md
  # - Action #3: Recipe format specification - DONE
  #   → Created: docs/features/quoting/recipe-format-specification.md

  # Epic Q8: Stagehand POC & Recipe Foundation (NEW 2025-12-14)
  # Validate recipe-based automation with Stagehand
  # Stories: 6 | FRs: FR3, FR20-22
  # Location: docs/sprint-artifacts/epics/epic-Q8/
  # Tech Spec: docs/sprint-artifacts/epics/epic-Q8/tech-spec.md
  # Created: 2025-12-14 - Strategic pivot from Q7 retrospective
  # Key: Prove "AI discovers once, Playwright replays fast" pattern
  epic-Q8-stagehand-poc-recipe-foundation: contexted
  Q8-0-codebase-cleanup: done  # Remove legacy Browser Use/Skyvern adapter code - APPROVED 2025-12-14
  Q8-1-stagehand-setup: drafted   # Install and configure Stagehand locally
  Q8-2-login-caching-test: drafted  # RAM Mutual login + verify 5x+ speedup on replay
  Q8-3-captcha-integration: drafted  # CapSolver integration with Stagehand
  Q8-4-recipe-schema: drafted     # Supabase quoting_recipes table
  Q8-5-e2e-quote-flow: drafted    # Full RAM Mutual: login → form → quote → extract

  # Epic Q9: Quote Execution Engine (CORE MAGIC) (was Q8)
  # AI fills carrier forms automatically
  # Stories: 6 | FRs: FR1-8
  # Location: docs/sprint-artifacts/epics/epic-Q9/
  epic-Q9-quote-execution-engine: backlog
  Q9-1-carrier-selection-automation: backlog
  Q9-2-get-quotes-execution-trigger: backlog
  Q9-3-ai-form-filling-execution: backlog
  Q9-4-multi-page-flow-navigation: backlog
  Q9-5-quote-result-extraction: backlog
  Q9-6-screenshot-evidence-capture: backlog

  # Epic Q10: Real-Time Progress & Status (was Q9)
  # Watch automation progress live
  # Stories: 5 | FRs: FR9-13
  # Location: docs/sprint-artifacts/epics/epic-Q10/
  epic-Q10-realtime-progress-status: backlog
  Q10-1-quote-progress-view: backlog
  Q10-2-live-step-updates-realtime: backlog
  Q10-3-estimated-time-display: backlog
  Q10-4-completion-notifications: backlog
  Q10-5-job-history-timeline: backlog

  # Epic Q11: Recipe Caching System (was Q10)
  # Fast, cost-effective execution (80% cost reduction)
  # Stories: 5 | FRs: FR20-24
  # Location: docs/sprint-artifacts/epics/epic-Q11/
  epic-Q11-recipe-caching-system: backlog
  Q11-1-recipe-database-schema: backlog
  Q11-2-recipe-replay-engine: backlog
  Q11-3-ai-fallback-recipe-failure: backlog
  Q11-4-recipe-auto-update: backlog
  Q11-5-recipe-health-monitoring: backlog

  # Epic Q12: Human-in-the-Loop & Error Handling (was Q11)
  # Handle CAPTCHAs and failures gracefully
  # Stories: 6 | FRs: FR25-30
  # Location: docs/sprint-artifacts/epics/epic-Q12/
  epic-Q12-human-in-the-loop-errors: backlog
  Q12-1-captcha-detection: backlog
  Q12-2-inline-captcha-solver-ui: backlog
  Q12-3-retry-alternative-strategies: backlog
  Q12-4-manual-intervention-mode: backlog
  Q12-5-clear-error-messages: backlog
  Q12-6-partial-success-handling: backlog

  # Epic Q13: Carrier Management & Growth (was Q12)
  # Pre-configured + user-added carriers
  # Stories: 8 (4 MVP + 4 Growth) | FRs: FR31-38
  # Location: docs/sprint-artifacts/epics/epic-Q13/
  epic-Q13-carrier-management-growth: backlog
  Q13-1-pre-configured-carrier-registry: backlog  # MVP
  Q13-2-carrier-list-status-display: backlog      # MVP
  Q13-3-enable-disable-carriers: backlog          # MVP
  Q13-4-carrier-success-rate-tracking: backlog    # MVP
  Q13-5-user-added-carrier-entry: backlog         # Growth
  Q13-6-ai-learning-new-carriers: backlog         # Growth
  Q13-7-test-new-carrier: backlog                 # Growth
  Q13-8-share-learned-carriers: backlog           # Growth (Future)

  # Epic Q14: Integration & Session Management (was Q13)
  # Connect to Phase 3 infrastructure
  # Stories: 4 | FRs: FR39-46
  # Location: docs/sprint-artifacts/epics/epic-Q14/
  epic-Q14-integration-session-management: backlog
  Q14-1-phase3-client-data-integration: backlog
  Q14-2-comparison-document-integration: backlog
  Q14-3-quote-job-tracking-history: backlog
  Q14-4-rerun-duplicate-prevention: backlog

  # Epic Q15: Credential Management (DEFERRED from Q8)
  # Secure credential storage with Supabase Vault
  # Stories: 5 | FRs: FR14-19
  # Location: docs/sprint-artifacts/epics/epic-Q15/
  # Status: Deferred until core recipe-based quoting works
  # Note: Using env vars for credentials during Q8-Q14 development
  epic-Q15-credential-management: deferred
  Q15-1-credential-vault-schema: backlog
  Q15-2-credential-crud-operations: backlog
  Q15-3-credential-validation: backlog
  Q15-4-credential-encryption-service: backlog
  Q15-5-credential-audit-logging: backlog
