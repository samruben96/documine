# Story 6.2: Fix Confidence Score Calculation

## Table of Contents

- [Story 6.2: Fix Confidence Score Calculation](#table-of-contents)
  - [User Story](./user-story.md)
  - [Background & Context](./background-context.md)
    - [Problem Statement](./background-context.md#problem-statement)
    - [Root Cause Analysis](./background-context.md#root-cause-analysis)
    - [User Impact](./background-context.md#user-impact)
  - [Acceptance Criteria](./acceptance-criteria.md)
    - [AC-6.2.1: Separate Score Properties](./acceptance-criteria.md#ac-621-separate-score-properties)
    - [AC-6.2.2: Correct Confidence for Vector-Only Mode](./acceptance-criteria.md#ac-622-correct-confidence-for-vector-only-mode)
    - [AC-6.2.3: Correct Confidence for Reranker Mode](./acceptance-criteria.md#ac-623-correct-confidence-for-reranker-mode)
    - [AC-6.2.4: Accurate Answer Shows Appropriate Badge](./acceptance-criteria.md#ac-624-accurate-answer-shows-appropriate-badge)
    - [AC-6.2.5: Greeting Shows No Confidence or "Conversational"](./acceptance-criteria.md#ac-625-greeting-shows-no-confidence-or-conversational)
    - [AC-6.2.6: Logging for Debugging](./acceptance-criteria.md#ac-626-logging-for-debugging)
  - [Technical Approach](./technical-approach.md)
    - [Option Analysis](./technical-approach.md#option-analysis)
    - [Implementation Plan](./technical-approach.md#implementation-plan)
      - [Step 1: Fix Reranker Score Handling (SIMPLIFIED)](./technical-approach.md#step-1-fix-reranker-score-handling-simplified)
      - [Step 3: Update Confidence Calculation](./technical-approach.md#step-3-update-confidence-calculation)
      - [Step 4: Update RAG Pipeline](./technical-approach.md#step-4-update-rag-pipeline)
      - [Step 5: Update UI for 'conversational' Confidence](./technical-approach.md#step-5-update-ui-for-conversational-confidence)
    - [Threshold Calibration Notes](./technical-approach.md#threshold-calibration-notes)
  - [Tasks / Subtasks](./tasks-subtasks.md)
  - [Dev Notes](./dev-notes.md)
    - [Relevant Architecture Patterns](./dev-notes.md#relevant-architecture-patterns)
    - [Project Structure Notes](./dev-notes.md#project-structure-notes)
    - [Testing Standards](./dev-notes.md#testing-standards)
    - [References](./dev-notes.md#references)
    - [Learnings from Previous Story](./dev-notes.md#learnings-from-previous-story)
  - [Definition of Done](./definition-of-done.md)
  - [Dependencies](./dependencies.md)
  - [Risk Assessment](./risk-assessment.md)
  - [Dev Agent Record](./dev-agent-record.md)
    - [Context Reference](./dev-agent-record.md#context-reference)
    - [Agent Model Used](./dev-agent-record.md#agent-model-used)
    - [Debug Log References](./dev-agent-record.md#debug-log-references)
    - [Completion Notes List](./dev-agent-record.md#completion-notes-list)
    - [File List](./dev-agent-record.md#file-list)
  - [Change Log](./change-log.md)
  - [Senior Developer Review (AI)](./senior-developer-review-ai.md)
    - [Reviewer](./senior-developer-review-ai.md#reviewer)
    - [Date](./senior-developer-review-ai.md#date)
    - [Outcome](./senior-developer-review-ai.md#outcome)
    - [Summary](./senior-developer-review-ai.md#summary)
    - [Acceptance Criteria Coverage](./senior-developer-review-ai.md#acceptance-criteria-coverage)
    - [Task Completion Validation](./senior-developer-review-ai.md#task-completion-validation)
    - [Test Coverage and Gaps](./senior-developer-review-ai.md#test-coverage-and-gaps)
    - [Architectural Alignment](./senior-developer-review-ai.md#architectural-alignment)
    - [Security Notes](./senior-developer-review-ai.md#security-notes)
    - [Best-Practices and References](./senior-developer-review-ai.md#best-practices-and-references)
    - [Action Items](./senior-developer-review-ai.md#action-items)
