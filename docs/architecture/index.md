# Architecture

## Table of Contents

- [Architecture](#table-of-contents)
  - [Executive Summary](./executive-summary.md)
  - [Project Initialization](./project-initialization.md)
  - [Decision Summary](./decision-summary.md)
  - [Project Structure](./project-structure.md)
  - [FR Category to Architecture Mapping](./fr-category-to-architecture-mapping.md)
  - [Technology Stack Details](./technology-stack-details.md)
    - [Core Technologies](./technology-stack-details.md#core-technologies)
    - [Integration Points](./technology-stack-details.md#integration-points)
  - [Novel Pattern: Trust-Transparent AI Responses](./novel-pattern-trust-transparent-ai-responses.md)
    - [Pattern Definition](./novel-pattern-trust-transparent-ai-responses.md#pattern-definition)
    - [Implementation](./novel-pattern-trust-transparent-ai-responses.md#implementation)
    - [Retrieval Flow](./novel-pattern-trust-transparent-ai-responses.md#retrieval-flow)
  - [Implementation Patterns](./implementation-patterns.md)
    - [API Response Format](./implementation-patterns.md#api-response-format)
    - [Streaming Response Format](./implementation-patterns.md#streaming-response-format)
    - [Database Query Pattern](./implementation-patterns.md#database-query-pattern)
    - [File Upload Pattern](./implementation-patterns.md#file-upload-pattern)
  - [Consistency Rules](./consistency-rules.md)
    - [Naming Conventions](./consistency-rules.md#naming-conventions)
    - [Code Organization](./consistency-rules.md#code-organization)
    - [Error Handling](./consistency-rules.md#error-handling)
    - [Logging Strategy](./consistency-rules.md#logging-strategy)
  - [Data Architecture](./data-architecture.md)
    - [Core Tables](./data-architecture.md#core-tables)
    - [RLS Policies](./data-architecture.md#rls-policies)
    - [Storage Policies](./data-architecture.md#storage-policies)
  - [API Contracts](./api-contracts.md)
    - [Authentication](./api-contracts.md#authentication)
    - [Documents](./api-contracts.md#documents)
    - [Chat](./api-contracts.md#chat)
    - [Compare](./api-contracts.md#compare)
  - [Security Architecture](./security-architecture.md)
    - [Authentication Flow](./security-architecture.md#authentication-flow)
    - [Data Protection](./security-architecture.md#data-protection)
    - [Security Headers](./security-architecture.md#security-headers)
    - [Rate Limiting](./security-architecture.md#rate-limiting)
  - [Performance Considerations](./performance-considerations.md)
    - [Response Time Targets](./performance-considerations.md#response-time-targets)
    - [Optimization Strategies](./performance-considerations.md#optimization-strategies)
  - [Deployment Architecture](./deployment-architecture.md)
    - [Environment Configuration](./deployment-architecture.md#environment-configuration)
  - [Development Environment](./development-environment.md)
    - [Prerequisites](./development-environment.md#prerequisites)
    - [Setup Commands](./development-environment.md#setup-commands)
    - [Development Workflow](./development-environment.md#development-workflow)
  - [Architecture Decision Records (ADRs)](./architecture-decision-records-adrs.md)
    - [ADR-001: Supabase-Native over T3 Stack](./architecture-decision-records-adrs.md#adr-001-supabase-native-over-t3-stack)
    - [ADR-002: Docling for PDF Processing (Updated 2025-11-30)](./architecture-decision-records-adrs.md#adr-002-docling-for-pdf-processing-updated-2025-11-30)
    - [ADR-003: Streaming AI Responses](./architecture-decision-records-adrs.md#adr-003-streaming-ai-responses)
    - [ADR-004: Row Level Security for Multi-Tenancy](./architecture-decision-records-adrs.md#adr-004-row-level-security-for-multi-tenancy)
    - [ADR-005: OpenRouter Multi-Provider Integration (Story 5.10)](./architecture-decision-records-adrs.md#adr-005-openrouter-multi-provider-integration-story-510)
    - [ADR-006: RAG Pipeline Optimization (Stories 5.8-5.10)](./architecture-decision-records-adrs.md#adr-006-rag-pipeline-optimization-stories-58-510)
    - [ADR-007: GPT-5.1 for Structured Extraction (Story 7.2)](./architecture-decision-records-adrs.md#adr-007-gpt-51-for-structured-extraction-story-72)
    - [ADR-008: Extraction at Upload Time (Story 10.12)](./architecture-decision-records-adrs.md#adr-008-extraction-at-upload-time-story-1012)
  - [RAG Pipeline Architecture (Implemented)](./rag-pipeline-architecture-implemented.md)
    - [Original Pipeline (Stories 5.1-5.6)](./rag-pipeline-architecture-implemented.md#original-pipeline-stories-51-56)
    - [Current Production Pipeline (Stories 5.8-5.10 - Implemented 2025-12-02)](./rag-pipeline-architecture-implemented.md#current-production-pipeline-stories-58-510-implemented-2025-12-02)
    - [Hybrid Search Algorithm](./rag-pipeline-architecture-implemented.md#hybrid-search-algorithm)
    - [Confidence Thresholds (Updated)](./rag-pipeline-architecture-implemented.md#confidence-thresholds-updated)
    - [Chunking Strategy (Implemented 2025-12-02)](./rag-pipeline-architecture-implemented.md#chunking-strategy-implemented-2025-12-02)
    - [Model Configuration (Story 5.10 - Implemented 2025-12-02)](./rag-pipeline-architecture-implemented.md#model-configuration-story-510-implemented-2025-12-02)
  - [UI/UX Architecture](./uiux-architecture.md)
    - [Design Philosophy](./uiux-architecture.md#design-philosophy)
    - [Layout Architecture](./uiux-architecture.md#layout-architecture)
    - [Component Hierarchy](./uiux-architecture.md#component-hierarchy)
    - [UI State Management](./uiux-architecture.md#ui-state-management)
    - [Responsive Breakpoints](./uiux-architecture.md#responsive-breakpoints)
    - [Trust Transparency UI Pattern](./uiux-architecture.md#trust-transparency-ui-pattern)
    - [Empty State Variants](./uiux-architecture.md#empty-state-variants)
    - [Accessibility Requirements](./uiux-architecture.md#accessibility-requirements)
    - [Performance Targets (UI)](./uiux-architecture.md#performance-targets-ui)
    - [Research References](./uiux-architecture.md#research-references)
