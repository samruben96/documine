/**
 * Version 3 Extraction Fixture (Epic 10)
 *
 * Represents full Epic 10 extraction data with all enhanced fields populated.
 * Used to test complete extraction capabilities and comparison with older versions.
 *
 * Story 10.11: AC-10.11.1
 */

import type { QuoteExtraction } from '@/types/compare';

/**
 * V3 extraction - Full Epic 10 schema
 *
 * All fields populated:
 * - 21 coverage types supported
 * - Enhanced CoverageItem with aggregateLimit, SIR, coinsurance, waitingPeriod, indemnityPeriod
 * - PolicyMetadata with form type, form numbers, policy type, retroactive date, audit type
 * - Endorsements with form number, name, type, description, affected coverage
 * - CarrierInfo with AM Best rating, NAIC code, admitted status
 * - PremiumBreakdown with itemized costs
 */
export const v3Extraction: QuoteExtraction = {
  carrierName: 'Zurich Insurance',
  policyNumber: 'ZUR-2024-12345',
  namedInsured: 'Enterprise Solutions Corp',
  effectiveDate: '2024-07-01',
  expirationDate: '2025-07-01',
  annualPremium: 75000,
  coverages: [
    {
      type: 'general_liability',
      name: 'Commercial General Liability',
      limit: 2000000,
      sublimit: null,
      limitType: 'per_occurrence',
      deductible: 5000,
      description: 'Broad form CGL with contractual liability',
      sourcePages: [1, 2, 3],
      aggregateLimit: 4000000,
      selfInsuredRetention: null,
      coinsurance: null,
      waitingPeriod: null,
      indemnityPeriod: null,
    },
    {
      type: 'property',
      name: 'Commercial Property',
      limit: 5000000,
      sublimit: 500000,
      limitType: 'aggregate',
      deductible: 10000,
      description: 'Building and contents at replacement cost',
      sourcePages: [4, 5],
      aggregateLimit: null,
      selfInsuredRetention: null,
      coinsurance: 90,
      waitingPeriod: null,
      indemnityPeriod: null,
    },
    {
      type: 'business_interruption',
      name: 'Business Income Coverage',
      limit: 1000000,
      sublimit: null,
      limitType: 'aggregate',
      deductible: null,
      description: 'Business income with extra expense',
      sourcePages: [6],
      aggregateLimit: null,
      selfInsuredRetention: null,
      coinsurance: 80,
      waitingPeriod: '72 hours',
      indemnityPeriod: '12 months',
    },
    {
      type: 'umbrella',
      name: 'Commercial Umbrella',
      limit: 10000000,
      sublimit: null,
      limitType: 'aggregate',
      deductible: null,
      description: 'Excess liability coverage',
      sourcePages: [7, 8],
      aggregateLimit: null,
      selfInsuredRetention: 25000,
      coinsurance: null,
      waitingPeriod: null,
      indemnityPeriod: null,
    },
    {
      type: 'd_and_o',
      name: 'Directors & Officers Liability',
      limit: 5000000,
      sublimit: null,
      limitType: 'per_occurrence',
      deductible: 50000,
      description: 'D&O coverage for corporate officers and directors',
      sourcePages: [9, 10],
      aggregateLimit: 5000000,
      selfInsuredRetention: 100000,
      coinsurance: null,
      waitingPeriod: null,
      indemnityPeriod: null,
    },
    {
      type: 'epli',
      name: 'Employment Practices Liability',
      limit: 1000000,
      sublimit: null,
      limitType: 'per_occurrence',
      deductible: 25000,
      description: 'EPL coverage including third-party claims',
      sourcePages: [11],
      aggregateLimit: 2000000,
      selfInsuredRetention: null,
      coinsurance: null,
      waitingPeriod: null,
      indemnityPeriod: null,
    },
    {
      type: 'cyber',
      name: 'Cyber Liability',
      limit: 5000000,
      sublimit: 1000000,
      limitType: 'aggregate',
      deductible: 50000,
      description: 'Comprehensive cyber with first and third party coverage',
      sourcePages: [12, 13, 14],
      aggregateLimit: null,
      selfInsuredRetention: null,
      coinsurance: null,
      waitingPeriod: '8 hours',
      indemnityPeriod: null,
    },
    {
      type: 'crime',
      name: 'Crime / Fidelity Coverage',
      limit: 500000,
      sublimit: null,
      limitType: 'aggregate',
      deductible: 10000,
      description: 'Employee dishonesty and crime coverage',
      sourcePages: [15],
      aggregateLimit: null,
      selfInsuredRetention: null,
      coinsurance: null,
      waitingPeriod: null,
      indemnityPeriod: null,
    },
  ],
  exclusions: [
    {
      name: 'War Exclusion',
      description: 'Excludes loss from war or military action',
      category: 'other',
      sourcePages: [20],
    },
    {
      name: 'Nuclear Exclusion',
      description: 'Excludes nuclear hazard losses',
      category: 'other',
      sourcePages: [20],
    },
    {
      name: 'Pollution Exclusion',
      description: 'Excludes pollution-related claims',
      category: 'pollution',
      sourcePages: [21],
    },
  ],
  deductibles: [
    {
      type: 'Per Occurrence',
      amount: 5000,
      appliesTo: 'General Liability',
      sourcePages: [2],
    },
    {
      type: 'Per Claim',
      amount: 50000,
      appliesTo: 'D&O',
      sourcePages: [10],
    },
  ],
  extractedAt: '2024-12-03T09:00:00Z',
  modelUsed: 'gpt-5.1',

  // Full Epic 10 fields
  policyMetadata: {
    formType: 'iso',
    formNumbers: ['CG 0001', 'CP 0010', 'BP 0002'],
    policyType: 'occurrence',
    retroactiveDate: null,
    extendedReportingPeriod: null,
    auditType: 'annual',
    sourcePages: [1, 2],
  },
  endorsements: [
    {
      formNumber: 'CG 20 10',
      name: 'Additional Insured - Owners, Lessees or Contractors',
      type: 'broadening',
      description: 'Extends coverage to scheduled additional insureds for ongoing operations',
      affectedCoverage: 'General Liability',
      sourcePages: [25],
    },
    {
      formNumber: 'CG 20 37',
      name: 'Additional Insured - Completed Operations',
      type: 'broadening',
      description: 'Extends AI coverage to completed operations',
      affectedCoverage: 'General Liability',
      sourcePages: [26],
    },
    {
      formNumber: 'CG 24 04',
      name: 'Waiver of Transfer of Rights of Recovery',
      type: 'conditional',
      description: 'Waives subrogation rights for scheduled parties',
      affectedCoverage: 'General Liability',
      sourcePages: [27],
    },
    {
      formNumber: 'CG 20 01',
      name: 'Primary and Non-Contributory',
      type: 'broadening',
      description: 'Coverage is primary and non-contributory to other insurance',
      affectedCoverage: 'General Liability',
      sourcePages: [28],
    },
    {
      formNumber: 'IL 00 21',
      name: 'Blanket Additional Insured',
      type: 'broadening',
      description: 'Automatic AI coverage per written contract',
      affectedCoverage: null,
      sourcePages: [29],
    },
  ],
  carrierInfo: {
    amBestRating: 'A+',
    amBestFinancialSize: 'XV',
    naicCode: '16535',
    admittedStatus: 'admitted',
    claimsPhone: '1-800-987-6543',
    underwriter: 'Jane Smith',
    sourcePages: [1],
  },
  premiumBreakdown: {
    basePremium: 60000,
    coveragePremiums: [
      { coverage: 'General Liability', premium: 12000 },
      { coverage: 'Property', premium: 15000 },
      { coverage: 'Umbrella', premium: 8000 },
      { coverage: 'D&O', premium: 10000 },
      { coverage: 'EPL', premium: 5000 },
      { coverage: 'Cyber', premium: 7000 },
      { coverage: 'Crime', premium: 2000 },
      { coverage: 'Business Interruption', premium: 1000 },
    ],
    taxes: 3750,
    fees: 500,
    brokerFee: 1500,
    surplusLinesTax: null,
    totalPremium: 75000,
    paymentPlan: 'Annual or 10-pay monthly',
    sourcePages: [30, 31],
  },
};

/**
 * V3 extraction - alternative carrier for comparison
 */
export const v3ExtractionAlternate: QuoteExtraction = {
  carrierName: 'AIG',
  policyNumber: 'AIG-2024-67890',
  namedInsured: 'Enterprise Solutions Corp',
  effectiveDate: '2024-07-01',
  expirationDate: '2025-07-01',
  annualPremium: 82000,
  coverages: [
    {
      type: 'general_liability',
      name: 'Commercial General Liability',
      limit: 2000000,
      sublimit: null,
      limitType: 'per_occurrence',
      deductible: 2500,
      description: 'CGL with broad form',
      sourcePages: [1, 2],
      aggregateLimit: 4000000,
      selfInsuredRetention: null,
      coinsurance: null,
      waitingPeriod: null,
      indemnityPeriod: null,
    },
    {
      type: 'property',
      name: 'Commercial Property',
      limit: 5000000,
      sublimit: 750000,
      limitType: 'aggregate',
      deductible: 5000,
      description: 'All-risk property coverage',
      sourcePages: [3, 4],
      aggregateLimit: null,
      selfInsuredRetention: null,
      coinsurance: 100,
      waitingPeriod: null,
      indemnityPeriod: null,
    },
    {
      type: 'umbrella',
      name: 'Umbrella Liability',
      limit: 10000000,
      sublimit: null,
      limitType: 'aggregate',
      deductible: null,
      description: 'Commercial umbrella',
      sourcePages: [5],
      aggregateLimit: null,
      selfInsuredRetention: 10000,
      coinsurance: null,
      waitingPeriod: null,
      indemnityPeriod: null,
    },
    {
      type: 'cyber',
      name: 'Cyber Protection',
      limit: 3000000,
      sublimit: 500000,
      limitType: 'aggregate',
      deductible: 25000,
      description: 'Cyber liability and breach response',
      sourcePages: [6, 7],
      aggregateLimit: null,
      selfInsuredRetention: null,
      coinsurance: null,
      waitingPeriod: '12 hours',
      indemnityPeriod: null,
    },
  ],
  exclusions: [
    {
      name: 'Pandemic Exclusion',
      description: 'Excludes losses related to pandemic or epidemic',
      category: 'other',
      sourcePages: [15],
    },
  ],
  deductibles: [],
  extractedAt: '2024-12-03T10:00:00Z',
  modelUsed: 'gpt-5.1',
  policyMetadata: {
    formType: 'proprietary',
    formNumbers: ['AIG-CGL-2024'],
    policyType: 'occurrence',
    retroactiveDate: null,
    extendedReportingPeriod: null,
    auditType: 'monthly',
    sourcePages: [1],
  },
  endorsements: [
    {
      formNumber: 'CG 20 10',
      name: 'Additional Insured',
      type: 'broadening',
      description: 'Additional insured coverage',
      affectedCoverage: 'General Liability',
      sourcePages: [20],
    },
    {
      formNumber: 'CG 24 04',
      name: 'Waiver of Subrogation',
      type: 'conditional',
      description: 'Waiver of subrogation endorsement',
      affectedCoverage: 'General Liability',
      sourcePages: [21],
    },
  ],
  carrierInfo: {
    amBestRating: 'A',
    amBestFinancialSize: 'XV',
    naicCode: '19402',
    admittedStatus: 'admitted',
    claimsPhone: '1-800-555-1234',
    underwriter: 'John Doe',
    sourcePages: [1],
  },
  premiumBreakdown: {
    basePremium: 68000,
    coveragePremiums: [
      { coverage: 'General Liability', premium: 14000 },
      { coverage: 'Property', premium: 18000 },
      { coverage: 'Umbrella', premium: 9000 },
      { coverage: 'Cyber', premium: 8000 },
    ],
    taxes: 4100,
    fees: 600,
    brokerFee: 2000,
    surplusLinesTax: null,
    totalPremium: 82000,
    paymentPlan: 'Annual',
    sourcePages: [25],
  },
};

/**
 * V3 extraction with new coverage types (Epic 10)
 */
export const v3ExtractionNewCoverages: QuoteExtraction = {
  carrierName: 'Specialty Insurance Co',
  policyNumber: 'SPC-2024-001',
  namedInsured: 'Construction Corp',
  effectiveDate: '2024-08-01',
  expirationDate: '2025-08-01',
  annualPremium: 95000,
  coverages: [
    {
      type: 'builders_risk',
      name: 'Builders Risk Coverage',
      limit: 10000000,
      sublimit: null,
      limitType: 'aggregate',
      deductible: 25000,
      description: 'Course of construction coverage',
      sourcePages: [1, 2],
      aggregateLimit: null,
      selfInsuredRetention: null,
      coinsurance: null,
      waitingPeriod: null,
      indemnityPeriod: null,
    },
    {
      type: 'inland_marine',
      name: 'Contractors Equipment',
      limit: 2000000,
      sublimit: 100000,
      limitType: 'aggregate',
      deductible: 5000,
      description: 'Equipment floater for mobile equipment',
      sourcePages: [3],
      aggregateLimit: null,
      selfInsuredRetention: null,
      coinsurance: null,
      waitingPeriod: null,
      indemnityPeriod: null,
    },
    {
      type: 'pollution',
      name: 'Contractors Pollution Liability',
      limit: 2000000,
      sublimit: null,
      limitType: 'per_occurrence',
      deductible: 50000,
      description: 'CPL coverage for construction operations',
      sourcePages: [4, 5],
      aggregateLimit: 4000000,
      selfInsuredRetention: null,
      coinsurance: null,
      waitingPeriod: null,
      indemnityPeriod: null,
    },
    {
      type: 'fiduciary',
      name: 'Fiduciary Liability',
      limit: 1000000,
      sublimit: null,
      limitType: 'aggregate',
      deductible: 10000,
      description: 'ERISA fiduciary liability coverage',
      sourcePages: [6],
      aggregateLimit: null,
      selfInsuredRetention: null,
      coinsurance: null,
      waitingPeriod: null,
      indemnityPeriod: null,
    },
    {
      type: 'product_liability',
      name: 'Products Liability',
      limit: 5000000,
      sublimit: null,
      limitType: 'per_occurrence',
      deductible: 10000,
      description: 'Product liability for manufactured goods',
      sourcePages: [7, 8],
      aggregateLimit: 10000000,
      selfInsuredRetention: null,
      coinsurance: null,
      waitingPeriod: null,
      indemnityPeriod: null,
    },
    {
      type: 'garage_liability',
      name: 'Garage Liability',
      limit: 1000000,
      sublimit: null,
      limitType: 'per_occurrence',
      deductible: 2500,
      description: 'Garage operations coverage',
      sourcePages: [9],
      aggregateLimit: 2000000,
      selfInsuredRetention: null,
      coinsurance: null,
      waitingPeriod: null,
      indemnityPeriod: null,
    },
    {
      type: 'liquor_liability',
      name: 'Liquor Liability',
      limit: 1000000,
      sublimit: null,
      limitType: 'per_occurrence',
      deductible: 5000,
      description: 'Host liquor liability coverage',
      sourcePages: [10],
      aggregateLimit: null,
      selfInsuredRetention: null,
      coinsurance: null,
      waitingPeriod: null,
      indemnityPeriod: null,
    },
    {
      type: 'medical_malpractice',
      name: 'Medical Professional Liability',
      limit: 2000000,
      sublimit: null,
      limitType: 'per_occurrence',
      deductible: 25000,
      description: 'Med mal coverage for healthcare operations',
      sourcePages: [11, 12],
      aggregateLimit: 4000000,
      selfInsuredRetention: null,
      coinsurance: null,
      waitingPeriod: null,
      indemnityPeriod: null,
    },
  ],
  exclusions: [],
  deductibles: [],
  extractedAt: '2024-12-03T11:00:00Z',
  modelUsed: 'gpt-5.1',
  policyMetadata: {
    formType: 'manuscript',
    formNumbers: [],
    policyType: 'occurrence',
    retroactiveDate: null,
    extendedReportingPeriod: null,
    auditType: 'final',
    sourcePages: [1],
  },
  endorsements: [],
  carrierInfo: {
    amBestRating: 'A-',
    amBestFinancialSize: 'XII',
    naicCode: '99999',
    admittedStatus: 'surplus',
    claimsPhone: '1-888-555-0123',
    underwriter: null,
    sourcePages: [1],
  },
  premiumBreakdown: {
    basePremium: 75000,
    coveragePremiums: [],
    taxes: 3750,
    fees: 750,
    brokerFee: 3000,
    surplusLinesTax: 2250,
    totalPremium: 95000,
    paymentPlan: 'Quarterly',
    sourcePages: [20],
  },
};
